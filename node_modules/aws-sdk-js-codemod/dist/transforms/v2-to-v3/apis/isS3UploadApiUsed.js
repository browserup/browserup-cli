"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isS3UploadApiUsed = void 0;
const getClientIdentifiers_1 = require("./getClientIdentifiers");
const isS3UploadApiUsed = (j, source, options) => {
    if (options.v2ClientName !== "S3")
        return false;
    const clientIdentifiers = (0, getClientIdentifiers_1.getClientIdentifiers)(j, source, options);
    for (const clientId of clientIdentifiers) {
        const s3UploadCallExpressions = source.find(j.CallExpression, {
            callee: {
                type: "MemberExpression",
                object: clientId,
                property: { type: "Identifier", name: "upload" },
            },
        });
        if (s3UploadCallExpressions.length)
            return true;
    }
    return false;
};
exports.isS3UploadApiUsed = isS3UploadApiUsed;
