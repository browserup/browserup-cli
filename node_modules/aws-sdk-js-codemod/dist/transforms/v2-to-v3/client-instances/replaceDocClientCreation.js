"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.replaceDocClientCreation = void 0;
const utils_1 = require("../utils");
const getDynamoDBForDocClient_1 = require("./getDynamoDBForDocClient");
const replaceDocClientCreation = (j, source, { v2ClientLocalName, v2GlobalName }) => {
    if (v2GlobalName) {
        source
            .find(j.NewExpression, (0, utils_1.getDocClientNewExpression)({ v2GlobalName }))
            .replaceWith((v2DocClientNewExpression) => j.callExpression(j.memberExpression(j.identifier("DynamoDBDocument"), j.identifier("from")), [(0, getDynamoDBForDocClient_1.getDynamoDBForDocClient)(j, v2DocClientNewExpression, { v2ClientLocalName })]));
    }
    source
        .find(j.NewExpression, (0, utils_1.getDocClientNewExpression)({ v2ClientLocalName }))
        .replaceWith((v2DocClientNewExpression) => j.callExpression(j.memberExpression(j.identifier("DynamoDBDocument"), j.identifier("from")), [
        (0, getDynamoDBForDocClient_1.getDynamoDBForDocClient)(j, v2DocClientNewExpression, { v2ClientLocalName }),
    ]));
};
exports.replaceDocClientCreation = replaceDocClientCreation;
