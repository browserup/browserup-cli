"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getNewExpressionCount = void 0;
const utils_1 = require("../utils");
const getDocClientNewExpressionCount_1 = require("./getDocClientNewExpressionCount");
const getNewExpressionCount = (j, source, options) => {
    const { v2ClientName, v2ClientLocalName, v2GlobalName } = options;
    let newExpressionCount = 0;
    if (v2GlobalName) {
        const newExpressionsFromGlobalName = source.find(j.NewExpression, (0, utils_1.getClientNewExpression)({ v2ClientName, v2GlobalName }));
        newExpressionCount += newExpressionsFromGlobalName.length;
    }
    const newExpressionsFromClientLocalName = source.find(j.NewExpression, (0, utils_1.getClientNewExpression)({ v2ClientLocalName }));
    newExpressionCount += newExpressionsFromClientLocalName.length;
    newExpressionCount += (0, getDocClientNewExpressionCount_1.getDocClientNewExpressionCount)(j, source, options);
    return newExpressionCount;
};
exports.getNewExpressionCount = getNewExpressionCount;
