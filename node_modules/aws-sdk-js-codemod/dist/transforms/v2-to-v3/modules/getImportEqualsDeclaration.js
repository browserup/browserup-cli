"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getImportEqualsDeclaration = void 0;
const config_1 = require("../config");
const utils_1 = require("../utils");
const getImportEqualsDeclarationType_1 = require("./getImportEqualsDeclarationType");
const getImportEqualsDeclaration = (j, source, { v2ClientName, v2ClientLocalName, v2GlobalName }) => 
// Return global or service import declaration.
source
    .find(j.TSImportEqualsDeclaration, (0, getImportEqualsDeclarationType_1.getImportEqualsDeclarationType)())
    .filter((importEqualsDeclaration) => {
    const identifierName = importEqualsDeclaration.value.id.name;
    const importEqualsModuleRef = importEqualsDeclaration.value
        .moduleReference;
    const expressionValue = importEqualsModuleRef.expression.value;
    if (expressionValue === config_1.PACKAGE_NAME && identifierName === v2GlobalName) {
        return true;
    }
    if (expressionValue === (0, utils_1.getClientDeepImportPath)(v2ClientName) &&
        identifierName === v2ClientLocalName) {
        return true;
    }
    return false;
});
exports.getImportEqualsDeclaration = getImportEqualsDeclaration;
