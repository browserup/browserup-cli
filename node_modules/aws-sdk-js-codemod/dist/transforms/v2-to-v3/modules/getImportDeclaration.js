"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getImportDeclaration = void 0;
const config_1 = require("../config");
const utils_1 = require("../utils");
const getImportDeclaration = (j, source, { v2ClientName, v2ClientLocalName }) => 
// Return global or service import declaration.
source.find(j.ImportDeclaration).filter((importDeclaration) => {
    const sourceValue = importDeclaration.value.source.value;
    if (sourceValue === config_1.PACKAGE_NAME &&
        importDeclaration.value.specifiers?.some((specifier) => ["ImportNamespaceSpecifier", "ImportDefaultSpecifier"].includes(specifier.type) ||
            (specifier.type === "ImportSpecifier" && specifier.local?.name === v2ClientLocalName))) {
        return true;
    }
    if (sourceValue === (0, utils_1.getClientDeepImportPath)(v2ClientName) &&
        importDeclaration.value.specifiers?.some((specifier) => ["ImportNamespaceSpecifier", "ImportDefaultSpecifier"].includes(specifier.type) &&
            specifier.local?.name === v2ClientLocalName)) {
        return true;
    }
    return false;
});
exports.getImportDeclaration = getImportDeclaration;
